/* Tailwind v4 */
@import "tailwindcss";

/* =========================
   DESIGN TOKENS
   ========================= */
:root {
  color-scheme: dark;

  /* colors */
  --bgc: #0b0b0c;
  --fgc: #f3f3f2;
  --muted: #b0b0b0;
  --border: rgba(255,255,255,.12);
  --border-strong: rgba(255,255,255,.24);
  --overlay: rgba(0,0,0,.70);
  --accent: #f2f2f2;        /* «акцент-белый» */
  --brand: #7C3AED;         /* фиолетовый кнопок/линков */

  /* radii & shadows */
  --r: 12px;
  --shadow: 0 10px 30px rgba(0,0,0,.35);

  /* layout */
  --container: 1200px;
  --header-h: 56px;         /* высота фикс-хедера */
}

/* map tokens → утилиты */
.bg-bgc        { background: var(--bgc); }
.text-fgc      { color: var(--fgc); }
.text-muted    { color: var(--muted); }
.border-base   { border-color: var(--border); }
.border-strong { border-color: var(--border-strong); }

/* =========================
   BASE / RENDERING
   ========================= */
*,
*::before,
*::after { box-sizing: border-box; }

html, body { height: 100%; }

html {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
  scroll-behavior: smooth;
}

body {
  margin: 0;
  background: var(--bgc);
  color: var(--fgc);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overscroll-behavior-y: none; /* избегаем «рывков» на iOS при скролле до края */
}

/* iOS tap highlight */
a, button, [role="button"] { -webkit-tap-highlight-color: transparent; }

/* selection */
::selection { background: rgba(255,255,255,.16); color: var(--fgc); }

/* медиа по умолчанию */
img, video { display: block; max-width: 100%; height: auto; }

/* =========================
   CONTAINER
   ========================= */
.container {
  max-width: min(100%, var(--container));
  margin-inline: auto;
  padding-inline: 24px;
}

/* узкий кламп для текста */
.measure { max-width: 65ch; }

/* =========================
   SAFE AREAS (iPhone)
   ========================= */
.safe-px { padding-left: env(safe-area-inset-left); padding-right: env(safe-area-inset-right); }
.pt-safe { padding-top:  env(safe-area-inset-top); }
.pb-safe { padding-bottom: env(safe-area-inset-bottom); }

/* отступ для контента ниже фикс-хедера */
.pt-header-safe { padding-top: calc(var(--header-h) + env(safe-area-inset-top)); }

/* =========================
   RELIABLE VIEWPORT HEIGHT
   ========================= */
.h-ios-vh { height: 100vh; min-height: 100vh; }
@supports (height: 100svh) { .h-ios-vh { height: 100svh; min-height: 100svh; } }
@supports (height: 100dvh) { .h-ios-vh { height: 100dvh; min-height: 100dvh; } }

/* Hero: высота = экран − (хедер + челка iOS) */
.hero-fill {
  height: calc(100svh - var(--header-h) - env(safe-area-inset-top));
  min-height: calc(100svh - var(--header-h) - env(safe-area-inset-top));
}
@supports (height: 100dvh) {
  .hero-fill {
    height: calc(100dvh - var(--header-h) - env(safe-area-inset-top));
    min-height: calc(100dvh - var(--header-h) - env(safe-area-inset-top));
  }
}
@supports not (height: 100svh) {
  .hero-fill {
    height: calc(100vh - var(--header-h) - env(safe-area-inset-top));
    min-height: calc(100vh - var(--header-h) - env(safe-area-inset-top));
  }
}

/* =========================
   ACCESSIBILITY
   ========================= */
:focus-visible {
  outline: 2px solid rgba(255,255,255,.6);
  outline-offset: 2px;
  border-radius: 6px;
}
:focus:not(:focus-visible) { outline: none; }

/* визуально скрыть, но оставить для скринридеров */
.visually-hidden {
  position: absolute !important;
  width: 1px; height: 1px; margin: -1px; padding: 0;
  overflow: hidden; clip: rect(0 0 0 0); white-space: nowrap; border: 0;
}

/* =========================
   SCROLLBARS
   ========================= */
* { scrollbar-width: thin; scrollbar-color: rgba(255,255,255,.2) transparent; }
*::-webkit-scrollbar { width: 8px; height: 8px; }
*::-webkit-scrollbar-thumb { background: rgba(255,255,255,.2); border-radius: 8px; }

/* скрыть скроллбары при необходимости */
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
.no-scrollbar::-webkit-scrollbar { display: none; }

/* комфортные тапы для иконок */
.tap-target { min-width: 44px; min-height: 44px; }

/* =========================
   TYPOGRAPHY HELPERS
   ========================= */
.h1 {
  font-size: clamp(2.25rem, 1.2rem + 2.5vw, 3.5rem);
  line-height: 1.1;
  letter-spacing: -0.01em;
  font-weight: 600;
  text-wrap: balance;
}
.lead {
  font-size: 1.125rem;
  line-height: 1.7;
  color: var(--muted);
}
@media (min-width: 768px) { .lead { font-size: 1.25rem; } }

.stat-value { font-size: clamp(2rem, 1.2rem + 2vw, 3rem); font-weight: 600; }
.stat-label { color: var(--muted); }

/* =========================
   CARDS
   ========================= */
.card {
  border: 1px solid var(--border);
  border-radius: var(--r);
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0));
  box-shadow: var(--shadow);
  transition: border-color .2s ease, transform .2s ease, background .2s ease;
}
.card h3 { font-size: 1.0625rem; font-weight: 600; }
.card p  { line-height: 1.6; }
@media (hover: hover) and (pointer: fine) {
  .card:hover { border-color: var(--border-strong); transform: translateY(-2px); }
}

/* =========================
   BUTTONS
   ========================= */
.btn {
  display: inline-flex; align-items: center; justify-content: center;
  gap: 10px; height: 44px; padding: 0 18px;
  border-radius: 10px; border: 1px solid var(--border);
  background: transparent; color: var(--fgc);
  transition: border-color .2s ease, background .2s ease, transform .1s ease;
}
.btn:hover   { border-color: var(--border-strong); background: rgba(255,255,255,.06); }
.btn:active  { transform: translateY(1px); }

.btn-primary {
  background: var(--brand); color: #fff; border-color: transparent;
}
.btn-primary:hover { filter: brightness(1.05); }

.btn-accent {
  background: var(--accent); color: #111; border-color: transparent;
}
.btn-accent:hover { background: #fff; }

/* =========================
   OVERLAYS
   ========================= */
.overlay { background: var(--overlay); }

/* =========================
   ANIMATIONS
   ========================= */
.fade-in { animation: fade .6s ease both; }
@keyframes fade {
  from { opacity:.001; transform: translateY(6px); }
  to   { opacity:1;    transform: translateY(0); }
}

/* =========================
   REDUCED MOTION
   ========================= */
@media (prefers-reduced-motion: reduce) {
  html:focus-within { scroll-behavior: auto; }
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  .backdrop-blur-md { backdrop-filter: blur(0px); }
  .transition-transform, .transition-opacity { transition: none !important; }
}
/* Жёстко задаём поведение видео в hero (фикс для iOS Safari) */
.hero-video {
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;   /* мобилка: заполняем, можно обрезать */
  transform: none;                /* не перетираем другие transform-утилиты */
}
@media (min-width: 768px) {
  .hero-video {
    object-fit: contain !important; /* десктоп: «тютелька в тютельку» */
  }
}
\\.btn-primary:focus-visible { box-shadow: 0 0 0 4px rgba(124,58,237,.35); }
/* ===== NAV STYLES (no pills, no borders) ===== */

.nav-link {
  position: relative;
  display: inline-flex;
  align-items: center;
  padding: .25rem 0;
  margin-inline: 0.5rem;  /* <-- добавили горизонтальный отступ */
  color: var(--muted);
  transition: color .2s ease;
}

/* тонкая «киношная» подсветка при ховере */
.nav-link:hover { color: #fff; }

/* underline-индикатор */
.nav-link::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -6px;                   /* чуть ниже базовой линии */
  height: 2px;
  width: 0%;
  background: var(--brand);       /* фирменный фиолетовый */
  border-radius: 2px;
  opacity: .9;
  transition: width .22s ease;
}

/* hover раскрывает подчёркивание слева направо */
.nav-link:hover::after { width: 100%; }

/* активная страница — постоянное подчёркивание + белый текст */
.nav-link.is-active {
  color: #fff;
}
.nav-link.is-active::after {
  width: 100%;
}

/* вертикальный список в мобильной шторке — увеличиваем зону тапа */
.nav-link--vertical {
  width: 100%;
  padding: .625rem 0;
  font-size: 1rem;
}


/* Маленькая кнопка в правом углу (CTA уже есть в Tailwind как .btn-primary) */